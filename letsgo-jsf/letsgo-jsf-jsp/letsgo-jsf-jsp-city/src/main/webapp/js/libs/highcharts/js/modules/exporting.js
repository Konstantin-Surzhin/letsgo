/*
 Highcharts JS v5.0.3 (2016-11-18)
 Exporting module

 (c) 2010-2016 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(v){"object"===typeof module&&module.exports?module.exports=v:v(Highcharts)})(function(v){(function(g){var v=g.defaultOptions,w=g.doc,A=g.Chart,x=g.addEvent,H=g.removeEvent,F=g.fireEvent,t=g.createElement,B=g.discardElement,G=g.css,p=g.merge,C=g.pick,n=g.each,y=g.extend,I=g.splat,z=g.win,D=g.SVGRenderer,J=g.Renderer.prototype.symbols;y(v.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",
contextButtonTitle:"Chart context menu"});v.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}};v.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},
{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};g.post=function(a,b,c){var d;a=t("form",p({method:"post",action:a,enctype:"multipart/form-data"},c),{display:"none"},w.body);for(d in b)t("input",{type:"hidden",name:d,value:b[d]},
null,a);a.submit();B(a)};y(A.prototype,{sanitizeSVG:function(a){return a=a.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href\x3d").replace(/\n/," ").replace(/<\/svg>.*?$/,"\x3c/svg\x3e").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,
'$1\x3d"rgb($2)" $1-opacity\x3d"$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad")},getChartHTML:function(){this.inlineStyles();return this.container.innerHTML},getSVG:function(a){var b=this,c,d,k,E,h,e,f=p(b.options,a),u=f.exporting.allowHTML;w.createElementNS||(w.createElementNS=function(a,b){return w.createElement(b)});d=t("div",null,{position:"absolute",top:"-9999em",width:b.chartWidth+"px",height:b.chartHeight+"px"},w.body);h=b.renderTo.style.width;k=b.renderTo.style.height;h=f.exporting.sourceWidth||
f.chart.width||/px$/.test(h)&&parseInt(h,10)||600;e=f.exporting.sourceHeight||f.chart.height||/px$/.test(k)&&parseInt(k,10)||400;y(f.chart,{animation:!1,renderTo:d,forExport:!0,renderer:"SVGRenderer",width:h,height:e});f.exporting.enabled=!1;delete f.data;f.series=[];n(b.series,function(a){E=p(a.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:a.visible});E.isInternal||f.series.push(E)});a&&n(["xAxis","yAxis"],function(b){n(I(a[b]),function(a,d){f[b][d]=p(f[b][d],a)})});c=
new g.Chart(f,b.callback);n(["xAxis","yAxis"],function(a){n(b[a],function(b,d){d=c[a][d];var e=b.getExtremes();b=e.userMin;e=e.userMax;!d||void 0===b&&void 0===e||d.setExtremes(b,e,!0,!1)})});k=c.getChartHTML();f=null;c.destroy();B(d);u&&(d=k.match(/<\/svg>(.*?$)/))&&(d='\x3cforeignObject x\x3d"0" y\x3d"0" width\x3d"'+h+'" height\x3d"'+e+'"\x3e\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e'+d[1]+"\x3c/body\x3e\x3c/foreignObject\x3e",k=k.replace("\x3c/svg\x3e",d+"\x3c/svg\x3e"));k=this.sanitizeSVG(k);
return k=k.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(a,b){var c=this.options.exporting;return this.getSVG(p({chart:{borderRadius:0}},c.chartOptions,b,{exporting:{sourceWidth:a&&a.sourceWidth||c.sourceWidth,sourceHeight:a&&a.sourceHeight||c.sourceHeight}}))},exportChart:function(a,b){b=this.getSVGForExport(a,b);a=p(this.options.exporting,a);g.post(a.url,{filename:a.filename||"chart",type:a.type,width:a.width||0,scale:a.scale,svg:b},a.formAttributes)},
print:function(){var a=this,b=a.container,c=[],d=b.parentNode,k=w.body,g=k.childNodes,h=a.options.exporting.printMaxWidth,e,f;if(!a.isPrinting){a.isPrinting=!0;a.pointer.reset(null,0);F(a,"beforePrint");if(f=h&&a.chartWidth>h)e=[a.options.chart.width,void 0,!1],a.setSize(h,void 0,!1);n(g,function(a,b){1===a.nodeType&&(c[b]=a.style.display,a.style.display="none")});k.appendChild(b);z.focus();z.print();setTimeout(function(){d.appendChild(b);n(g,function(a,b){1===a.nodeType&&(a.style.display=c[b])});
a.isPrinting=!1;f&&a.setSize.apply(a,e);F(a,"afterPrint")},1E3)}},contextMenu:function(a,b,c,d,k,g,h){var e=this,f=e.chartWidth,u=e.chartHeight,l="cache-"+a,m=e[l],q=Math.max(k,g),r,p;m||(e[l]=m=t("div",{className:a},{position:"absolute",zIndex:1E3,padding:q+"px"},e.container),r=t("div",{className:"highcharts-menu"},null,m),p=function(){G(m,{display:"none"});h&&h.setState(0);e.openMenu=!1},x(m,"mouseleave",function(){m.hideTimer=setTimeout(p,500)}),x(m,"mouseenter",function(){clearTimeout(m.hideTimer)}),
l=x(w,"mouseup",function(b){e.pointer.inClass(b.target,a)||p()}),x(e,"destroy",l),n(b,function(a){if(a){var b;b=a.separator?t("hr",null,null,r):t("div",{className:"highcharts-menu-item",onclick:function(b){b&&b.stopPropagation();p();a.onclick&&a.onclick.apply(e,arguments)},innerHTML:a.text||e.options.lang[a.textKey]},null,r);e.exportDivElements.push(b)}}),e.exportDivElements.push(r,m),e.exportMenuWidth=m.offsetWidth,e.exportMenuHeight=m.offsetHeight);b={display:"block"};c+e.exportMenuWidth>f?b.right=
f-c-k-q+"px":b.left=c-q+"px";d+g+e.exportMenuHeight>u&&"top"!==h.alignOptions.verticalAlign?b.bottom=u-d-q+"px":b.top=d+g-q+"px";G(m,b);e.openMenu=!0},addButton:function(a){var b=this,c=b.renderer,d=p(b.options.navigation.buttonOptions,a),g=d.onclick,n=d.menuItems,h,e,f=d.symbolSize||12;b.btnCount||(b.btnCount=0);b.exportDivElements||(b.exportDivElements=[],b.exportSVGElements=[]);if(!1!==d.enabled){var u=d.theme,l=u.states,m=l&&l.hover,l=l&&l.select,q;delete u.states;g?q=function(a){a.stopPropagation();
g.call(b,a)}:n&&(q=function(){b.contextMenu(e.menuClassName,n,e.translateX,e.translateY,e.width,e.height,e);e.setState(2)});d.text&&d.symbol?u.paddingLeft=C(u.paddingLeft,25):d.text||y(u,{width:d.width,height:d.height,padding:0});e=c.button(d.text,0,0,q,u,m,l).addClass(a.className).attr({title:b.options.lang[d._titleKey],zIndex:3});e.menuClassName=a.menuClassName||"highcharts-menu-"+b.btnCount++;d.symbol&&(h=c.symbol(d.symbol,d.symbolX-f/2,d.symbolY-f/2,f,f).addClass("highcharts-button-symbol").attr({zIndex:1}).add(e));
e.add().align(y(d,{width:e.width,x:C(d.x,b.buttonOffset)}),!0,"spacingBox");b.buttonOffset+=(e.width+d.buttonSpacing)*("right"===d.align?-1:1);b.exportSVGElements.push(e,h)}},destroyExport:function(a){var b=a?a.target:this;a=b.exportSVGElements;var c=b.exportDivElements;a&&(n(a,function(a,c){a&&(a.onclick=a.ontouchstart=null,b.exportSVGElements[c]=a.destroy())}),a.length=0);c&&(n(c,function(a,c){clearTimeout(a.hideTimer);H(a,"mouseleave");b.exportDivElements[c]=a.onmouseout=a.onmouseover=a.ontouchstart=
a.onclick=null;B(a)}),c.length=0)}});D.prototype.inlineToAttributes="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");D.prototype.inlineBlacklist=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/];D.prototype.unstyledElements=["clipPath","defs","desc"];A.prototype.inlineStyles=function(){function a(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()})}function b(f){var c,
l,m,q="",r,t;if(1===f.nodeType&&-1===v.indexOf(f.nodeName)){l=z.getComputedStyle(f,null);m="svg"===f.nodeName?{}:z.getComputedStyle(f.parentNode,null);h[f.nodeName]||(e||(e=w.createElementNS(g.SVG_NS,"svg"),e.setAttribute("version","1.1"),w.body.appendChild(e)),r=w.createElementNS(f.namespaceURI,f.nodeName),e.appendChild(r),h[f.nodeName]=p(z.getComputedStyle(r,null)),e.removeChild(r));for(c in l){r=!1;for(t=k.length;t--&&!r;)r=k[t].test(c)||"function"===typeof l[c];r||m[c]!==l[c]&&h[f.nodeName][c]!==
l[c]&&(-1!==d.indexOf(c)?f.setAttribute(a(c),l[c]):q+=a(c)+":"+l[c]+";")}q&&(c=f.getAttribute("style"),f.setAttribute("style",(c?c+";":"")+q));"text"!==f.nodeName&&n(f.children||f.childNodes,b)}}var c=this.renderer,d=c.inlineToAttributes,k=c.inlineBlacklist,v=c.unstyledElements,h={},e;b(this.container.querySelector("svg"));e.parentNode.removeChild(e)};J.menu=function(a,b,c,d){return["M",a,b+2.5,"L",a+c,b+2.5,"M",a,b+d/2+.5,"L",a+c,b+d/2+.5,"M",a,b+d-1.5,"L",a+c,b+d-1.5]};A.prototype.renderExporting=
function(){var a,b=this.options.exporting,c=b.buttons,d=this.isDirtyExporting||!this.exportSVGElements;this.buttonOffset=0;this.isDirtyExporting&&this.destroyExport();if(d&&!1!==b.enabled){for(a in c)this.addButton(c[a]);this.isDirtyExporting=!1}x(this,"destroy",this.destroyExport)};A.prototype.callbacks.push(function(a){a.renderExporting();x(a,"redraw",a.renderExporting);n(["exporting","navigation"],function(b){a[b]={update:function(c,d){a.isDirtyExporting=!0;p(!0,a.options[b],c);C(d,!0)&&a.redraw()}}})})})(v)});
